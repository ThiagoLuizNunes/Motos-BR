"use strict";angular.module("motorcycleBR",["ui.router","ngAnimate","toastr"]);
"use strict";angular.module("motorcycleBR").config(["$stateProvider","$urlRouterProvider",function(r,t){r.state("dashboard",{url:"/dashboard",templateUrl:"dashboard/dashboard.html"}).state("motorcycle",{url:"/motorcycle?page",templateUrl:"motorcycle/tabs.html"}),t.otherwise("/dashboard")}]);
"use strict";!function(){angular.module("motorcycleBR").controller("DashboardCtrl",["$http",function(t){var o=this;o.getTotalMotorcycle=function(){t.get("http://localhost:4000/api/motorcycle/count").then(function(t){o.count=t.data.value})},o.getTotalMotorcycle()}])}();
"use strict";!function(){angular.module("motorcycleBR").controller("MotorcycleCtrl",["$http","$location","msgs","sort","tabs",function(o,e,c,a,t){var r=this,n="http://localhost:4000/api/motorcycle";r.refresh=function(){var c=parseInt(e.search().page)||1;o.get(n+"?skip="+10*(c-1)+"&limit=10").then(function(e){r.motorcycle={},r.motorcycles=a.Data(e.data),o.get(n+"/count").then(function(o){r.pages=Math.ceil(o.data.value/10),t.show(r,{tabList:!0,tabCreate:!0,tabSearch:!0})})})},r.create=function(){o.post(n,r.motorcycle).then(function(o){r.refresh(),c.addSuccess("Operação realizada com sucesso!")}).catch(function(o){c.addError(o.data.errors)})},r.update=function(){var e=n+"/"+r.motorcycle._id;o.put(e,r.motorcycle).then(function(o){r.refresh(),c.addSuccess("Operação realizada com sucesso!")}).catch(function(o){c.addError(o.data.errors)})},r.delete=function(){var e=n+"/"+r.motorcycle._id;o.delete(e,r.motorcycle).then(function(o){r.refresh(),c.addSuccess("Operação realizada com sucesso!")}).catch(function(o){c.addError(o.data.errors)})},r.showTabUpdate=function(o){r.motorcycle=o,t.show(r,{tabUpdate:!0})},r.showTabDelete=function(o){r.motorcycle=o,t.show(r,{tabDelete:!0})},r.swapChoice=function(o,e){r.nameChoice=o,r.brandChoice=e},r.search=function(){r.refresh(),r.nameChoice?void 0!=r.choice?o.get("http://localhost:4000/search-name/"+r.choice).then(function(o){0!=o.data.length?(r.motorcycles=o.data,console.log(o.data)):(r.refresh(),c.addError("Busca não encontrada"))}).catch(function(o){r.refresh(),c.addError(o.data.errors)}):c.addWarning("Campo vazio!"):r.brandChoice?void 0!=r.choice?o.get("http://localhost:4000/search-brand/"+r.choice).then(function(o){0!=o.data.length?(r.motorcycles=a.Data(o.data),console.log(o.data)):(console.log(r.choice),r.refresh(),c.addError("Busca não encontrada"))}).catch(function(o){console.log(r.choice),r.refresh(),c.addError(o.data.errors)}):""==r.choice?console.log("VAZIO"):(console.log(r.choice),c.addWarning("Campo vazio!")):c.addWarning("Selecione uma categoria!")},r.refresh()}])}();
"use strict";angular.module("motorcycleBR").factory("gridSystem",[function(){return{toCssClasses:function(o){var s=o?o.split(" "):[],t="";return s[0]&&(t+="col-xs-"+s[0]),s[1]&&(t+=" col-sm-"+s[1]),s[2]&&(t+=" col-md-"+s[2]),s[3]&&(t+=" col-lg-"+s[3]),t}}}]);
"use strict";!function(){angular.module("motorcycleBR").factory("msgs",["toastr",function(n){function r(r,c,o){r instanceof Array?r.forEach(function(r){return n[o](r,c)}):n[o](r,c)}return{addSuccess:function(n){r(n,"Sucesso","success")},addError:function(n){r(n,"Erro","error")},addWarning:function(n){r(n,"Warning","warning")}}}])}();
"use strict";!function(){angular.module("motorcycleBR").factory("sort",[function(){return{Data:function(t){return t.sort(function(t,r){var n=t.name.toLowerCase(),o=r.name.toLowerCase();return n<o?-1:n>o?1:0}),t}}}])}();
"use strict";!function(){angular.module("motorcycleBR").factory("tabs",[function(){return{show:function(t,a){var e=a.tabList,o=void 0!==e&&e,b=a.tabCreate,i=void 0!==b&&b,r=a.tabSearch,c=void 0!==r&&r,d=a.tabUpdate,n=void 0!==d&&d,u=a.tabDelete,s=void 0!==u&&u;t.tabList=o,t.tabCreate=i,t.tabSearch=c,t.tabUpdate=n,t.tabDelete=s}}}])}();
"use strict";angular.module("motorcycleBR").component("authField",{bindings:{id:"@",label:"@",type:"@",grid:"@",icon:"@",model:"=",placeholder:"@",hide:"<"},controller:function(){var l=this;this.$onInit=function(){l.iconClasses="glyphicon glyphicon-"+l.icon+" form-control-feedback"}},template:'\n    <div class="form-group has-feedback">\n      <input ng-model="$ctrl.model" id="{{ $ctrl.id }}" class="form-control"\n        type="{{ $ctrl.type }}" placeholder="{{ $ctrl.placeholder }}"\n        ng-hide="$ctrl.hide" />\n      <span class="{{ $ctrl.iconClasses }}"></span>\n    </div>\n    '});
"use strict";angular.module("motorcycleBR").component("contentHeader",{bindings:{name:"@",small:"@"},template:'\n    <section class="content-header">\n    <h1>{{ $ctrl.name }} <small>{{ $ctrl.small }}</small></h1>\n    </section>\n    '});
"use strict";angular.module("motorcycleBR").component("field",{bindings:{id:"@",label:"@",grid:"@",placeholder:"@",type:"@",model:"=",readonly:"<"},controller:["gridSystem",function(l){var e=this;this.$onInit=function(){return e.gridClasses=l.toCssClasses(e.grid)}}],template:'\n    <div class="{{ $ctrl.gridClasses }}">\n      <div class="form-group">\n        <label for="{{ $ctrl.id }}">{{ $ctrl.label }}</label>\n        <input id="{{ $ctrl.id }}" class="form-control" placeholder="{{ $ctrl.placeholder }}"\n          type="{{ $ctrl.type }}" ng-model="$ctrl.model" ng-readonly="$ctrl.readonly"/>\n      </div>\n    </div>\n    '});
"use strict";angular.module("motorcycleBR").component("paginator",{bindings:{url:"@",pages:"@"},controller:["$location",function(n){this.$onInit=function(){var r=parseInt(this.pages)||1;this.pagesArray=Array(r).fill(0).map(function(n,r){return r+1}),this.current=parseInt(n.search().page)||1,this.needPagination=this.pages>1,this.hasPrev=this.current>1,this.hasNext=this.current<this.pages,this.isCurrent=function(n){return this.current==n}}}],template:'\n    <ul ng-if="$ctrl.needPagination" class="pagination pagination-sm no-margin pull-right">\n      <li ng-if="$ctrl.hasPrev">\n        <a href="{{ $ctrl.url }}?page={{ $ctrl.current - 1 }}"> < </a>\n      </li>\n\n      <li ng-class="{active: $ctrl.isCurrent(index)}" ng-repeat="index in $ctrl.pagesArray">\n        <a href="{{ $ctrl.url }}?page={{ index }}">{{ index }}</a>\n      </li>\n\n      <li ng-if="$ctrl.hasNext">\n        <a href="{{ $ctrl.url }}?page={{ $ctrl.current + 1 }}"> > </a>\n      </li>\n    </ul>\n    '});
"use strict";angular.module("motorcycleBR").component("valueBox",{bindings:{grid:"@",colorClass:"@",value:"@",text:"@",iconClass:"@"},controller:["gridSystem",function(s){var l=this;this.$onInit=function(){return l.gridClasses=s.toCssClasses(l.grid)}}],template:'\n    <div class="{{ $ctrl.gridClasses }}">\n      <div class="small-box {{ $ctrl.colorClass }}">\n        <div class="inner">\n          <h3>{{ $ctrl.value }}</h3>\n          <p>{{ $ctrl.text }}</p>\n        </div>\n        <div class="icon">\n          <i class="{{ $ctrl.iconClass }}"></i>\n        </div>\n      </div>\n    </div>\n    '});